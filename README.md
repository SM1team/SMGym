# 2024몰입형SW팀프로젝트 1팀 SM-GYM 🏋️‍♂️

PL (Project Leader) : 곽인성 <br>

Front&Back DEV : 박주민, 황민우, 고윤재  
기간: 2024.11.10~2024.12.24  
<br>
💿[웹 시연영상](https://youtu.be/11111111111)  
🔗[노션 링크][(https://www.notion.so/246758c62a5b4e728cd50f89d021ba07?v=78f471175d4a49ea93b0195f26fa602a&pvs=4)](https://www.notion.so/2024-SW-12ea3b9e4551807eb729dfcc03fff17b)  

<br>

![image](https://github.com/user-attachments/assets/2037eff7-ee50-4f31-9c93-8f3e84f7cb17)


<br>

# 1. 프로젝트 주제 및 기획의도

 ### 주제❗

**    트레이너와 사용자가 상호작용하며 효율적으로 피트니스 활동을 지원하는 피트니스 웹 서비스 개발**


 ### 기획의도 및 주요목적❗️
 
**1.관리자 중심의 매출 데이터 시각화 지원**
판매 데이터를 기반으로 한 정교한 통계 및 매출 차트를 통해, 관리자가 데이터를 한눈에 파악하고 체계적이며 효율적인 세일즈 전략을 수립할 수 있도록 지원합니다.

**2.개인 맞춤형 건강 데이터 통합 관리**
회원의 운동 기록, 식단 계획, 목표 설정 등을 체계적으로 관리하여, 보다 정교하고 개인화된 피트니스 경험을 제공하고, 지속 가능한 건강 관리 솔루션을 구현합니다.

**3.온라인 피드백 및 실시간 상호작용 강화**
회원과 트레이너 간의 실시간 채팅 및 피드백 시스템을 도입하여, 비대면 환경에서도 전문적인 조언과 고도화된 상호작용을 제공하며 만족스러운 피트니스 경험을 지원합니다.

**4.QR 코드 센서를 활용한 출석 및 실시간 기구 상태 관리**
QR 코드 센서를 통해 회원의 출석을 자동으로 기록하며, 운동기구에 설치된 QR 센서를 통해 현재 사용 중이거나 대기 중인 기구의 상태를 실시간으로 확인할 수 있는 기능을 제공합니다.

**5.스마트한 피트니스 환경 조성**
데이터 기반의 통합 관리와 첨단 기술을 활용하여 회원과 관리자가 모두 만족할 수 있는 스마트하고 효율적인 피트니스 환경을 조성합니다.


<br><br>

# 2. 프로젝트 개요
### ✨프로젝트 계획도  
![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/20576f3b-10ce-4452-a8b1-aadd69f62d7f/f1d363ee-af95-4cb4-8992-c3ac78643de1/image.png)
***

### ✨USER-FLOW
![image](https://github.com/user-atta함<br><br>⦁ 문제점2: 로드밸런서 생성 후 클라이언트에서 요청 시에 트래픽이 안잡히는 현상, 로드밸런서 포트로 접근 시 페이지 로딩 에러 발생<br><br>⦁ 문제점3: 팝업창 실행시 JQuery에서 Uncaught ReferenceError : functionName is not defined 에러 발생|⦁ 솔루션1: 비동기 통신을 하여 해결하는 방법에 착안 -> AJAX를 이용하여 각 게시판의 데이터를 JSON객체에 담고, 각 게시판을 서버와 비동기 통신하여 해결<br><br>⦁ 솔루션2: private IP로 로드밸런서를 설정했던게 원인으로 로드밸런서 포트로 접속이 안됐고 클라이언트의 요청도 트래픽으로 잡지 못함 -> 로드밸런서의 IP를 public IP로 변경한 후 로드밸런서 포트 접속이 해결됐고 트래픽도 정상적으로 잡힘<br><br>⦁ 솔루션3: DOM 구조가 동적으로 변경될 때, JQuery는 처음 DOM 구조가 완료되고 난 뒤에 동작함 -> onclick시 실행되는 팝업창을 여는 함수를 $(document).ready 밖으로 빼내어 해결| 
|박주민|⦁ 문제점1: <br><br>⦁ 문제점2: 윈도우에서 커밋한 프로젝트를 가지고 깃허브에서 풀을 받으면 절대경로를 static이 아닌 프로젝트 파일명으로 가져오는 에러 발생 (윈도우 → 맥)   <br><br>⦁ 문제점3: MySQL Replication 구현중  Slave_IO_Running: NO 상태로 동기화가 안되는 문제가 발생함 ⇒ 원인은 여러가지로 보였음. <br><br>|⦁ 솔루션1: 인터셉터가 작동은 하는거였지만 비동기 방식인 AJAX는 무조건 호출에 의한 응답을 받아야하기에 인터셉터가 막고 다시 sendRedirect로 보내도 요청을 처리하기전 본인 갈길은 간것!        그래서 비동기 방식을 버리고 동기방식으로 서버에 요청을 보내니 인터셉터가 먹혀서 로그인 페이지로 갔다.   알고보니 비동기 방식은 요청 발생시 Object를 반환하기에 redirect가 먹지 않고 바로 success로 가버리는 과정이였음. ⇒  async를 false로 설정하여 해결..<br><br>⦁솔루션2: 해결한 방법은 프로젝트에 찌거기 데이터들이 남아있는거 같아서 경로를 불러오는데 충돌이 났다고 가정을하고 프로젝트 클린을 한번 하니까 해결이 됬음. 자세한 원인을 찾고 싶었지만 구글링 결과도 없고, 이게 스프링에서 에러가 난건지 자바 JVM에서 에러가 난건지 원인이 너무 불문명함.<br><br> ⦁ 솔루션3: 1. ncp서버에 방화벽이 접근을 제한시킬수도 있다는 생각이 들어서 방화벽의 접근제한을 해제시켜봄 ⇒ 결과는 실패 여전히 동일 2. my.cnf파일을 변경하고 난 다음에 mysql을 재시작해야 적용이 될 수 도 있을거 같다는 생각이 들었음 ⇒ 결과적으로 실패 3. NCP에서 ACG에 대한 설정이 안되있어서 발생할수도 있겠다는 생각이 들었음 ⇒ 정답…MASTER DB에 대한 IP와 PORT가 설정이 안되있어서 Slave쪽에서 접근이 안되는거 였음.| 
|황민우|⦁ 문제점1: 회원가입을 진행할 때 전화번호 입력칸에 숫자만 입력받아야 하는데 숫자 10자리+ "-" 가 입력되어도 회원가입이 정상적으로 이루어지는 문제 발생<br><br>⦁ 문제점2: 문의 및 답변을 구현하려고 할 때 org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.shop.mapper.CommentsMapper.qnaReply 오류 발생 <br><br> ⦁ 문제점3: 해당 태그에서 이벤트 발생시 해당 태그의 데이터와 다른 태그의 데이터를 불러오고 싶었는데, ID를 부여하기엔 for문으로 만들어진 태그들이라 임의로 id를 부여 할 수가 없었음. |⦁ 솔루션1: 처음에 만들었던 유효성검사는 reg = /^[0-9]{2,3}[0-9]{3,4}[0-9]{4}/;로, 당시에는 숫자만 입력하도록 유효성검사를 했다고 생각했는데, 다시 생각해보니 앞에 2자리, 가운데 3자리, 뒤에 4자리까지만 숫자가 입력되면 10번째 자리부터는 어떤 문자든 입력될 수 있었다. 유효성검사를 reg = /^[0-9]{2,3}[0-9]{3,4}[0-9]{6}/; 로 바꾸고, 전화번호 입력칸의 maxlength 값을 11로 하여 숫자 11자리까지만 입력할 수 있도록 수정하여 해결.<br><br>⦁솔루션2: mapper.xml에서 오타로 인한 not found 예외 발생이였음. mapper namespace="com.shop.mapper.CommentMapper"의 CommentMapper를 CommentsMapper로 수정하여 해결<br><br> ⦁솔루션3: id값에 board + ${board.boardKey} 를 부여하여 반복시 해당 태그의 id가 자동으로 boardKey에 맞게 생성되어 겹치지가 않게 만들 수 있게 됐음.  | 
|고윤재|⦁문제점1: AJAX를 이용하여 JavaScript에서 변수에 값을 담으려고 하였지만, AJAX 통신 내에서만 데이터가 존재하고 AJAX 밖으로 나가면서 사라지는 현상 발생<br><br>⦁ 문제점2: RealTimeAnalyzeService(실시간 통계)에서 Java의 Date를 통해 현재 시스템의 시간을 구해서 변수로 선언하였지만 배포시 실시간으로 시간이 변하지는 않았음<br><br>⦁문제점3: 날짜별/시간별 매출 데이터를 조회하는 쿼리문을 작성했을 때 데이터가 없는 날짜/시간은 0으로 나오는 것이 아니라 레코드 자체가 존재하지 않아 데이터를 바로 사용할 수 없었음|⦁솔루션1: 'async:false'를 이용하여 변수에 담을 수 있게 통신 방식을 변경하였고, AJAX 통신 전에 전역변수로 선언해준 후 값을 전달하여 사용<br><br>⦁솔루션2: Service는 Controller에서 호출될 때마다 생성되고 사라지는 것이 아니라 @Bean으로 한 번 생성되는 것이기 때문에 Service 안에 getTime()이라는 메서드를 만들어 통계 메서드 실행 시 getTime() 메서드를 호출하여 시간 변경<br><br>⦁솔루션3: 날짜/시간에 대한 더미 테이블을 생성한 후 OUTER JOIN을 이용해 데이터가 없어도 레코드가 존재하게 설정| 
